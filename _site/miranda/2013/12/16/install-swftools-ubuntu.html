<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Install Swftools in Ubuntu</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/">Ivan's toy</a></h1>
              <a class="extra" href="/">home</a>
            </div>

                <h2>Install Swftools in Ubuntu</h2>
<p class="meta">16 Dec 2013</p>

<div class="post">
<p>I&#39;ve been implementing the Doc viewer feature 2 years ago. <a href="http://www.swftools.org/">Swftools</a> is a core part. But we&#39;re using Windows environment, we could get the compiled package directly, namely <code>pdf2swf.exe</code>.</p>

<p>However, when I tried to get it installed in my Ubuntu 13.10 by following <a href="http://wiki.swftools.org/wiki/Installation">this</a>, I virtually had a hard time. Then I found <a href="https://designbye.wordpress.com/2010/02/23/installing-swftools-and-pdf2swf-on-ubuntu-linux/">this</a> useful link, I&#39;d rather take some note here.</p>

<h1>It requires 2 additional libraries</h1>

<h2>jpeglib</h2>

<p><code>jpeglib</code> can be found <a href="http://www.ijg.org/files/">here</a>. But it&#39;s said v8+ is not compatible with current Swftools, so I installed v7.</p>

<div class="highlight"><pre><code class="bash">wget http://www.ijg.org/files/jpegsrc.v7.tar.gz
tar -zvxf jpegsrc.v7.tar.gz

<span class="nb">cd </span>jpeg-7
sudo ./configure
sudo make
sudo make install
</code></pre></div>

<h2>freetype</h2>

<p>The latest version is 2.5.2, installing it is a little tricky.</p>

<div class="highlight"><pre><code class="bash">wget http://download.savannah.gnu.org/releases-noredirect/freetype/freetype-2.5.2.tar.gz
tar -zvxf freetype-2.5.2.tar.gz

<span class="nb">cd </span>freetype-2.3.12
rm -f config.cache
sudo ranlib /usr/local/lib/libjpeg.a
sudo ldconfig /usr/local/lib
sudo <span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">&quot;-L/usr/local/lib&quot;</span> <span class="nv">CPPFLAGS</span><span class="o">=</span><span class="s2">&quot;-I/usr/local/include&quot;</span> ./configure
sudo make
sudo make install
</code></pre></div>

<h2>install Swftools</h2>

<div class="highlight"><pre><code class="bash"><span class="nb">cd </span>swftools-0.9.0
sudo <span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">&quot;-L/usr/local/lib&quot;</span> <span class="nv">CPPFLAGS</span><span class="o">=</span><span class="s2">&quot;-I/usr/local/include&quot;</span> ./configure
sudo make
sudo make install
</code></pre></div>

<h1>&quot;rm: invalid option -- o&quot;</h1>

<p>When you <code>make install</code> Swftools, you might get this error. This bug should be fixed in 0.9.3, but I&#39;m using 0.9.2, some workaround needs to be done.</p>

<p>refine <code>swfs/Makefile</code>, remove below line</p>

<div class="highlight"><pre><code class="bash">-o -L <span class="k">$(</span>pkgdatadir<span class="k">)</span>/swfs/default_loader.swf
</code></pre></div>

</div>


            <div class="footer">
              <div class="contact">
                 <p>
                  Ivan<br />
                  Shanghai, CHINA<br />
                  ivan.wang2010@gmail.com
                </p>
              </div>
              <!-- <div class="contact">
                <p>
                  <a href="http://github.com/yourusername/">github.com/yourusername</a><br />
                  <a href="http://twitter.com/yourusername/">twitter.com/yourusername</a><br />
                </p>
              </div> -->
            </div>
          </div>
        </div> <!-- /container -->

    </body>
</html>
